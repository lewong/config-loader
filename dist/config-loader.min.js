var ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={owner_org:"owner",playlist_title:"v28",artist:"v29",franchise:"ser",video_title_start:"sst",video_title_end:"set"};return{append:function(d,e,f){var g=d.mediaGen||{},h=g.images,i=d.overrideParams||{},j={},k="UMBEPARAM";return f=f||{},d.uri&&(j[k+"c66"]=d.uri),a.each(i,function(a,c){b[c]&&(j[k+b[c]]=a)}),i.playlist_title&&(j[k+"plTitle"]=i.playlist_title),a.isEmpty(h)||(j[k+"c30"]=h[0].contentUri,j[k+"plLen"]=h.length,j[k+"ssd"]=h[0].startTime,j[k+"sed"]=h[h.length-1].endTime),a.each(a.clone(f.umbeParams),function(a,b,c){-1===b.toUpperCase().indexOf(k)&&(f.umbeParams[k+b]=a,delete c[b])}),a.extend(j,f.umbeParams),c.setParameters(e,j)}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?(d=f.append(this.config,d,this.options),d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams))):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Thu May 22 2014 10:53:11",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={owner_org:"owner",playlist_title:"v28",artist:"v29",franchise:"ser",video_title_start:"sst",video_title_end:"set"};return{append:function(d,e,f){var g=d.mediaGen||{},h=g.images,i=d.overrideParams||{},j={},k="UMBEPARAM";return f=f||{},d.uri&&(j[k+"c66"]=d.uri),a.each(i,function(a,c){var d=b[c]||c;j[k+d]=a}),i.playlist_title&&(j[k+"plTitle"]=i.playlist_title),a.isEmpty(h)||(j[k+"c30"]=h[0].contentUri,j[k+"plLen"]=h.length,j[k+"ssd"]=h[0].startTime,j[k+"sed"]=h[h.length-1].endTime),a.each(a.clone(f.umbeParams),function(a,b,c){-1===b.toUpperCase().indexOf(k)&&(f.umbeParams[k+b]=a,delete c[b])}),a.extend(j,f.umbeParams),c.setParameters(e,j)}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?(d=f.append(this.config,d,this.options),d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams))):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Wed May 21 2014 18:00:14",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={owner_org:"owner",playlist_title:"v28",artist:"v29",franchise:"ser",video_title_start:"sst",video_title_end:"set"};return{append:function(d,e){var f=d.mediaGen,g=f.images,h=d.overrideParams||{},i={},j="UMBEPARAM";return e=e||{},f.vmap&&f.vmap.uri?(d.uri&&(i[j+"c66"]=d.uri),a.each(h,function(a,c){var d=b[c]||c;i[j+d]=a}),h.playlist_title&&(i[j+"plTitle"]=h.playlist_title),a.isEmpty(g)||(i[j+"c30"]=g[0].contentUri,i[j+"plLen"]=g.length,i[j+"ssd"]=g[0].startTime,i[j+"sed"]=g[g.length-1].endTime),a.each(a.clone(e.umbeParams),function(a,b,c){-1===b.toUpperCase().indexOf(j)&&(e.umbeParams[j+b]=a,delete c[b])}),a.extend(i,e.umbeParams),f.vmap.uri=c.setParameters(f.vmap.uri,i),f.vmap.uri):void 0}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Wed May 21 2014 13:00:29",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={owner_org:"owner",playlist_title:"v28",artist:"v29",franchise:"ser",video_title_start:"sst",video_title_end:"set"};return{append:function(d,e){var f=d.mediaGen,g=f.images,h=d.overrideParams||{},i={},j="UMBEPARAM";return e=e||{},f.vmap&&f.vmap.uri?(d.uri&&(i[j+"c66"]=d.uri),a.each(h,function(a,c){var d=b[c]||c;i[j+d]=a}),h.playlist_title&&(i[j+"plTitle"]=h.playlist_title),a.isEmpty(g)||(i[j+"c30"]=g[0].contentUri,i[j+"plLen"]=g.length,i[j+"ssd"]=g[0].startTime,i[j+"sed"]=g[g.length-1].endTime),a.each(a.clone(e.umbeParams),function(a,b,c){-1===b.toUpperCase().indexOf(j)&&(e.umbeParams[j+b]=a,delete c[b])}),a.extend(i,e.umbeParams),f.vmap.uri=c.setParameters(f.vmap.uri,i),f.vmap.uri):void 0}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Wed May 21 2014 12:56:38",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={owner_org:"owner",playlist_title:"v28",artist:"v29",franchise:"ser",video_title_start:"sst",video_title_end:"set"};return{append:function(d,e){var f=d.mediaGen,g=f.images,h=d.overrideParams||{},i={},j="UMBEPARAM";return e=e||{},f.vmap&&f.vmap.uri?(d.uri&&(i[j+"c66"]=d.uri),a.each(h,function(a,c){var d=b[c]||c;i[j+d]=a}),h.playlist_title&&(i[j+"plTitle"]=h.playlist_title),a.isEmpty(g)||(i[j+"c30"]=g[0].contentUri,i[j+"plLen"]=g.length,i[j+"ssd"]=g[0].startTime,i[j+"sed"]=g[g.length-1].endTime),a.each(a.clone(e.umbeParams),function(a,b,c){-1===b.toUpperCase().indexOf(j)&&(e.umbeParams[j+b]=a,delete c[b])}),a.extend(i,e.umbeParams),f.vmap.uri=c.setParameters(f.vmap.uri,i),f.vmap.uri):void 0}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Tue May 20 2014 20:20:12",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={c66:"uri"},d={owner:"owner_org",v28:"playlist_title",plTitle:"playlist_title",ser:"franchise"};return{append:function(e,f){var g=e.mediaGen,h=g.images,i={},j="UMBEPARAM";g.vmap&&g.vmap.uri&&(a.each(e.overrideParams,function(a,b){i[j+b]=a}),a.each(b,function(a,b){e[a]&&(i[j+b]=e[a])}),a.each(d,function(a,b){e.overrideParams[a]&&(i[j+b]=e.overrideParams[a])}),a.isEmpty(h)||(i.c30=h[0].contentUri,i.plLen=h.length,i.ssd=h[0].startTime,i.sed=h[h.length-1].endTime),a.each(f.umbeParams,function(a,b,c){-1===b.toLowerCase().indexOf("umbeparams")&&(c[j+b]=a,delete c[b])}),a.extend(i,f.umbeParams),g.vmap.uri=c.setParameters(g.vmap.uri,i))}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d
}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Tue May 20 2014 17:39:14",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={c66:"uri"},d={owner:"owner_org",v28:"playlist_title",plTitle:"playlist_title",ser:"franchise"};return{append:function(e,f){var g=e.mediaGen,h=g.images,i={},j="UMBEPARAM";g.vmap&&g.vmap.uri&&(a.each(e.overrideParams,function(a,b){i[j+b]=a}),a.each(b,function(a,b){e[a]&&(i[j+b]=e[a])}),a.each(d,function(a,b){e.overrideParams[a]&&(i[j+b]=e.overrideParams[a])}),a.isEmpty(h)||(i.c30=h[0].contentUri,i.plLen=h.length,i.ssd=h[0].startTime,i.sed=h[h.length-1].endTime),a.each(f.umbeParams,function(a,b,c){-1===b.toLowerCase().indexOf("umbeparams")&&(c[j+b]=a,delete c[b])}),a.extend(i,f.umbeParams),g.vmap.uri=c.setParameters(g.vmap.uri,i))}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Tue May 20 2014 17:37:38",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={c66:"uri"},d={owner:"owner_org",v28:"playlist_title",plTitle:"playlist_title",ser:"franchise"};return{append:function(e,f){var g=e.mediaGen,h=g.images,i={},j="UMBEPARAM";g.vmap&&g.vmap.uri&&(a.each(e.overrideParams,function(a,b){i[j+b]=a}),a.each(b,function(a,b){e[a]&&(i[j+b]=e[a])}),a.each(d,function(a,b){e.overrideParams[a]&&(i[j+b]=e.overrideParams[a])}),a.isEmpty(h)||(i.c30=h[0].contentUri,i.plLen=h.length,i.ssd=h[0].startTime,i.sed=h[h.length-1].endTime),a.extend(i,f.umbeParams),g.vmap.uri=c.setParameters(g.vmap.uri,i))}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Tue May 20 2014 17:29:52",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f=function(){var b={c66:"uri"},d={owner:"owner_org",v28:"playlist_title",plTitle:"playlist_title",ser:"franchise"};return{append:function(e,f){var g=e.mediaGen,h=g.images,i={},j="UMBEPARAM";g.vmap&&g.vmap.uri&&(a.each(e.overrideParams,function(a,b){i[j+b]=a}),a.each(b,function(a,b){e[a]&&(i[j+b]=e[a])}),a.each(d,function(a,b){e.overrideParams[a]&&(i[j+b]=e.overrideParams[a])}),a.isEmpty(h)||(i.c30=h[0].contentUri,i.plLen=h.length,i.ssd=h[0].startTime,i.sed=h[h.length-1].endTime),a.extend(i,f.umbeParams),g.vmap.uri=c.setParameters(g.vmap.uri,i))}}}(),g={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:g.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&h.process(d.vmap.adBreaks,d.image)),d}},h={process:function(a,b){return h.adjustForAds(a,h.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},i={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=i.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},j={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},k=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},l=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},m="http://media.mtvnservices.com/pmt/e1/access/index.html",n=k.Events={READY:"ready",ERROR:"error"};return k.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",k.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=l(this.options.configURL||m,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return i.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.config,d=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];return d?d=c.setParameters(l(d,b),a.clone(this.options.mediaGenParams)):this.onError(this.getErrorMessage("no media gen specified.")),d},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=j.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=g.process(a)}catch(c){b=!0,this.onError(c.name===g.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,f.append(this.config,this.options),this.sendReady())},sendReady:function(){this.config=j.prune(this.config,this.options),this.emit(n.READY,{type:n.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(n.ERROR,{type:n.ERROR,data:a,target:this})},getErrorMessage:function(){return k.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},k.version="0.7.0",k.build="Tue May 20 2014 17:26:36",k}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&g.process(d.vmap.adBreaks,d.image)),d}},g={process:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=h.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return h.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.7.0",j.build="Fri May 09 2014 14:43:16",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&g.process(d.vmap.adBreaks,d.image)),d}},g={process:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=h.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return h.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE
},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Fri May 09 2014 13:27:57",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&g.process(d.vmap.adBreaks,d.image)),d}},g={process:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=h.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return h.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Fri May 09 2014 13:27:57",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&g.process(d.vmap.adBreaks,d.image)),d}},g={process:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=h.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return h.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Fri May 09 2014 13:25:41",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap),d.image&&g.process(d.vmap.adBreaks,d.image)),d}},g={process:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds","width","height"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h={getTimeString:function(b){var c="";return a.times(4-b,function(){c+="0"}),c},getImage:function(b,c){c=Math.floor(c);var d=a.find(b,function(a){return c>=a.startTime&&c<a.endTime});if(d){d=a.clone(d);var e=Math.floor((c-d.startTime)/d.keyframeIntervalSeconds),f=h.getTimeString(e.toString().length);d.src=d.src.replace("{0:0000}",f+e)}return d}},i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(this.config){var b=this.config.mediaGen;if(b)return h.getImage(b.image,a)}return void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Fri May 09 2014 13:19:50",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 08 2014 18:21:18",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 08 2014 18:20:15",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var e,f;try{e=JSON.parse(d.responseText)}catch(g){f=g}e?b(e):c(f)}else c("Load Error, http status:"+d.status+" for "+a)},d.onerror=function(){c("Load Error, http status:"+d.status+" for "+a)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE
},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 08 2014 18:12:41",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage("Error Loading:"+a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 08 2014 13:04:18",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 01 2014 18:49:01",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});if(c){c=a.clone(c);var d=Math.floor((b-c.startTime)/c.keyframeIntervalSeconds),e=new Array(5-d.toString().length).join("0");c.src=c.src.replace("{0:0000}",e+d)}return c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 01 2014 18:47:15",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0,d=function(a){return Number(a.toString().match(/^\d+(?:\.\d{0,2})?/))};return a.map(b,function(b){return a.each(["contentDurationMs","keyframeIntervalSeconds"],function(a){b[a]=parseFloat(b[a],10)}),b.duration=d(b.contentDurationMs/1e3),delete b.contentDurationMs,b.startTime=d(c),b.endTime=d(c+b.duration),c+=b.duration,b})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});return c&&(c=a.clone(c),c.src=c.src.replace("{0:0000}",Math.floor((b-c.startTime)/c.keyframeIntervalSeconds))),c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","getImage","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError","getImage"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.image))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.config.getImage=this.getImage,this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 01 2014 18:17:41",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},isVideoItem:function(b){return a.isObject(b.vmap)||a.isObject(b.rendition)||a.isArray(b.rendition)},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,this.isVideoItem),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):this.isVideoItem(e)&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap&&(d.vmap=b.process(d.vmap)),d}},g={get:function(a,b){return g.adjustForAds(a,g.configureSegments(b))},configureSegments:function(b){var c=0;return a.map(b,function(a){return a.startTime=c,a.endTime=c+a.duration,a.keyframeIntervalSeconds=parseFloat(a.keyframeIntervalSeconds,10),c+=a.duration,a})},adjustForAds:function(b,c){return a.each(b,function(b){a.each(c,function(a){b.startTime<=a.startTime&&(a.startTime+=b.duration,a.endTime+=b.duration)})}),c}},h=function(a,b){this.segments=g.get(a,b)};h.prototype={getImage:function(b){b=Math.floor(b);var c=a.find(this.segments,function(a){return b>=a.startTime&&b<a.endTime});return c&&(c=a.clone(c),c.src=c.src.replace("{0:0000}",Math.floor((b-c.startTime)/c.keyframeIntervalSeconds))),c}};var i={whitelist:["feed","mediaGen","brightcove_mediagenRootURL","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds)),b},prune:function(b,c){return b?a.pick(b,this.whitelist.concat(c.whitelist||[])):void 0}},j=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},k=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},l="http://media.mtvnservices.com/pmt/e1/access/index.html",m=j.Events={READY:"ready",ERROR:"error"};return j.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",j.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,getConfigUrl:function(){var a=k(this.options.configURL||l,this.options,{});return c.setParameters(a,this.options.configParams)},load:function(){this.request=new d(this.getConfigUrl(),this.onConfigLoaded,this.onLoadError)},getImage:function(a){if(!this.images&&this.config){var b=this.config.mediaGen;b&&(this.images=new h(b.vmap.adBreaks,b.images))}return this.images?this.images.getImage(a):void 0},getMediaGenUrl:function(){var b=this.options.mediaGenURL||this.config[this.options.mediaGenProperty||"mediaGen"];if(b){var d=a.clone(this.options.mediaGenParams);a.each(this.config.overrideParams,function(a,b){d["UMBEPARAM"+b]=a}),b=c.setParameters(k(b,this.config),d)}else this.onError(this.getErrorMessage("no media gen specified."));return b},onConfigLoaded:function(a){if(a.config&&(a=a.config),a.error)return void this.onError(this.getErrorMessage(a.error));if(this.config=i.process(a,this.options),this.options.shouldLoadMediaGen){var b=this.getMediaGenUrl();b?this.request=new d(b,this.onMediaGenLoaded,this.onLoadError):this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.config=i.prune(this.config,this.options),this.emit(m.READY,{type:m.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(m.ERROR,{type:m.ERROR,data:a,target:this})},getErrorMessage:function(){return j.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},j.version="0.6.0",j.build="Thu May 01 2014 17:11:04",j}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.6.0",h.build="Wed Apr 23 2014 16:19:36",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};
return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.6.0",h.build="Wed Apr 23 2014 16:19:25",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Wed Apr 23 2014 16:13:58",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Wed Apr 23 2014 16:11:41",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Wed Apr 23 2014 16:11:27",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{shouldLoadMediaGen:!0,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},shouldLoadMediaGen:!0,load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));if(this.config=g.process(b,this.options),this.options.shouldLoadMediaGen){var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))}else this.sendReady()},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.sendReady())},sendReady:function(){this.emit(k.READY,{type:k.READY,data:this.config,target:this})},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Wed Apr 23 2014 16:10:04",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{feed:!0,mediaGen:!1,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));this.config=g.process(b,this.options);var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.emit(k.READY,{type:k.READY,data:this.config,target:this}))},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Tue Apr 22 2014 21:40:26",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{feed:!0,mediaGen:!1,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));this.config=g.process(b,this.options);var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.emit(k.READY,{type:k.READY,data:this.config,target:this}))},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Tue Apr 22 2014 21:37:35",h}(_,VMAPParser,Url),ConfigLoader=function(a,b,c){var d=function(a,b,c){var d=this.request=new XMLHttpRequest;d.open("GET",a,!0),d.setRequestHeader("Accept","application/json"),d.onload=function(){if(d.status>=200&&d.status<400){var a,e;try{a=JSON.parse(d.responseText)}catch(f){e=f}a?b(a):c(e)}else c(d.status)},d.onerror=function(){c(d.status)},d.send()};d.prototype={abort:function(){this.request.abort()}};var e={convert:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}},f={MEDIA_GEN_ERROR:"mediaGenError",getItem:function(a){return a&&a.item?a.item:a.video.item},process:function(c){a.isString(c)&&(c=JSON.parse(c));var d,e=this.getItem(c.package);return a.isArray(e)?(d=a.find(e,function(b){return a.isObject(b.vmap)}),d&&(d.overlay=a.find(e,function(a){return"overlay"===a.placement}))):a.isObject(e)&&e.vmap&&(d=e),d||a.some(e,function(a){if("text"===a.type)throw{name:f.MEDIA_GEN_ERROR,message:a.text}}),d.vmap=b.process(d.vmap),d}},g={whitelist:["feed","mediaGen","uri","geo","ref","type","group","device","network","chromeless","autoPlay","adFreeInterval","ccEnabled","useSegmentedScrubber","useNativeControls"],process:function(b,c){return b&&(b.adFreeInterval=b.timeSinceLastAd,a.isUndefined(b.adFreeInterval)&&(b.adFreeInterval=b.freewheelMinTimeBtwAds),b=a.pick(b,this.whitelist.concat(c.whitelist||[]))),b}},h=function(b){this.options=b||{},a.defaults(b,{feed:!0,mediaGen:!1,configParams:a.defaults(b.configParams||{},{returntype:"config",configtype:"vmap",uri:b.uri}),mediaGenParams:b.mediaGenParams||{}}),b.verboseErrorMessaging&&(this.getErrorMessage=a.identity),this.initialize.apply(this,arguments)},i=function(b,c){return b=b.replace(/\{{1,}/g,"{{").replace(/\}{1,}/g,"}}"),a.template(b,c,{interpolate:/\{\{(.+?)\}\}/g})},j="http://media.mtvnservices.com/pmt/e1/access/index.html",k=h.Events={READY:"ready",ERROR:"error"};return h.DEFAULT_ERROR_MESSAGE="Sorry, this video is currently not available.",h.prototype={initialize:function(){a.bindAll(this,"onConfigLoaded","onMediaGenLoaded","onError","onLoadError"),e.convert(this)},load:function(){var a=i(this.options.configURL||j,this.options,{});a=c.setParameters(a,this.options.configParams),this.request=new d(a,this.onConfigLoaded,this.onLoadError)},onConfigLoaded:function(b){if(b.config&&(b=b.config),b.error)return void this.onError(this.getErrorMessage(b.error));this.config=g.process(b,this.options);var e=this.options.mediaGenURL||b[this.options.mediaGenProperty||"mediaGen"];if(e){var f=a.clone(this.options.mediaGenParams);a.each(b.overrideParams,function(a,b){f["UMBEPARAM"+b]=a}),e=c.setParameters(i(e,b),f),this.request=new d(e,this.onMediaGenLoaded,this.onLoadError)}else this.onError(this.getErrorMessage("no media gen specified."))},onMediaGenLoaded:function(a){var b;try{a=f.process(a)}catch(c){b=!0,this.onError(c.name===f.MEDIA_GEN_ERROR?c.message:this.getErrorMessage(c))}b||(this.config.mediaGen=a,this.emit(k.READY,{type:k.READY,data:this.config,target:this}))},onLoadError:function(a){this.onError(this.getErrorMessage(a))},onError:function(a){this.emit(k.ERROR,{type:k.ERROR,data:a,target:this})},getErrorMessage:function(){return h.DEFAULT_ERROR_MESSAGE},destroy:function(){this.request&&this.request.abort()}},h.version="0.5.0",h.build="Tue Apr 22 2014 21:35:13",h}(_,VMAPParser,Url);